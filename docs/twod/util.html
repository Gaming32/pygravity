<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>pygravity.twod.util API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pygravity.twod.util</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from __future__ import annotations

from pygravity.twod.physics import PhysicsManager
from pygravity.twod.gravity import GravityAcceptor, GravityCaster, GravityContainer
from pygravity.twod.vector import Vector2
from typing import Dict, Generator, Iterable, List, Optional, Tuple, TypedDict, Union


__all__ = [&#39;Body&#39;, &#39;BodyWithMetadata&#39;, &#39;capture_simulation&#39;]


class Body:
    &#34;&#34;&#34;Body(container: GravityContainer, position: Vector2, mass: float, has_caster: bool = True, has_acceptor: bool = True)

High level class representing everything gravity related about a spatial body

Attributes
----------
position : Vector2
    The current position of the body
mass : float
    The body&#39;s mass
physics : PhysicsManager
    The PhysicsManager responsible for managing the body&#39;s velocity
caster : GravityCaster | None
    The body&#39;s GravityCaster, or None if the body doesn&#39;t pull on other bodies
acceptor : GravityAcceptor | None
    The body&#39;s GravityAcceptor, or None if the body doesn&#39;t get pulled on by other bodies&#34;&#34;&#34;

    position: Vector2
    mass: float
    physics: PhysicsManager
    caster: Optional[GravityCaster]
    acceptor: Optional[GravityAcceptor]

    def __init__(self,
                 container: GravityContainer,
                 position: Vector2,
                 mass: float,
                 has_caster: bool = True,
                 has_acceptor: bool = True):
        self.position = position
        self.mass = mass
        self.physics = PhysicsManager(position)
        if has_caster:
            self.caster = GravityCaster(position, mass)
            container.add_caster(self.caster)
        else: self.caster = None
        if has_acceptor:
            self.acceptor = GravityAcceptor(position, container, self.physics)
        else: self.acceptor = None

    def step(self, time_passed: float) -&gt; Tuple[Vector2, Vector2]:
        &#34;&#34;&#34;Calculates the change in velocity and movement of this body
Use seconds for time_passed

Returns
-------
Change in velocity (Vector2; None if this body does not have an acceptor)
Movement (Change in position) (Vector2)&#34;&#34;&#34;
        res = None
        if self.acceptor is not None:
            res = self.acceptor.calculate(time_passed)
        return res, self.physics.calculate(time_passed)


class BodyWithMetadata:
    &#34;&#34;&#34;BodyWithMetadata(body: Body, name: str = &#39;body&#39;, radius: float = 0, color: Tuple[float, float, float] = (0, 0, 0))

Body wrapper that contains various metadata about the body

Attributes
----------
body : Body
    The actual body
name : str
    The body&#39;s name (e.g. Saturn)
radius : float
    The body&#39;s radius
color : Tuple[float, float, float]
    The color to use for the body in rendering tasks&#34;&#34;&#34;

    body: Body
    name: str
    radius: float
    color: Tuple[float, float, float]

    def __init__(self, body: Body, name: str = &#39;body&#39;, radius: float = 0, color: Tuple[float, float, float] = (0, 0, 0)):
        self.body = body
        self.name = name
        self.radius = radius
        self.color = color

    @staticmethod
    def ensure_metadata(body: PotentialBody, *defaults) -&gt; BodyWithMetadata:
        &#34;&#34;&#34;Ensures that type(body) == BodyWithMetadata

Specify additional arguments to set the default metadata if the body is just a plain Body&#34;&#34;&#34;
        if isinstance(body, BodyWithMetadata):
            return body
        return BodyWithMetadata(body, *defaults)

    @staticmethod
    def iter_ensure_metadata(it: Iterable[PotentialBody],
                             name_format: str = &#39;body%03i&#39;,
                             *defaults) -&gt; Generator[BodyWithMetadata]:
        &#34;&#34;&#34;Generator over it that calls BodyWithMetadata.ensure_metadata

name_format is a percent format string that indicates the default name for a body
    This replaces the first argument for defaults&#34;&#34;&#34;
        yield from (
            BodyWithMetadata.ensure_metadata(body, name_format % i, *defaults)
            for (i, body)
            in enumerate(it)
        )

    @staticmethod
    def strip_metadata(body: PotentialBody) -&gt; Body:
        &#34;&#34;&#34;Opposite of BodyWithMetadata.ensure_metadata
Returns a Body regardless of whether body was a BodyWithMetadata or Body&#34;&#34;&#34;
        return BodyWithMetadata.ensure_metadata(body).body

    @staticmethod
    def iter_strip_metadata(it: Iterable[PotentialBody]) -&gt; Generator[Body]:
        &#34;&#34;&#34;Generator over it that calls BodyWithMetadata.strip_metadata&#34;&#34;&#34;
        yield from (
            BodyWithMetadata.strip_metadata(body)
            for body
            in it
        )


PotentialBody = Union[Body, BodyWithMetadata]

SimulationMetadata = TypedDict(&#39;SimulationMetadata&#39;,
    mass = float,
    radius = float,
    color = Tuple[float, float, float]
)

SimulationFrameBody = TypedDict(&#39;SimulationFrameBody&#39;,
    position = Tuple[float, float],
    velocity = Tuple[float, float]
)

SimulationFrame = Dict[str, SimulationFrameBody]

SimulationResult = TypedDict(&#39;SimulationResult&#39;,
    meta = Dict[str, SimulationMetadata],
    data = List[SimulationFrame]
)


def capture_simulation(
        bodies: List[PotentialBody],
        focus: Optional[PotentialBody] = None,
        step_distance=36800,
        step_count=5000) -&gt; SimulationResult:
    result = {}
    focus = BodyWithMetadata.strip_metadata(focus)

    bodies = list(BodyWithMetadata.iter_ensure_metadata(bodies))
    metadata = {}
    result[&#39;meta&#39;] = metadata
    for body in bodies:
        body_meta_dict = {}
        result[&#39;meta&#39;][body.name] = body_meta_dict
        body_meta_dict[&#39;mass&#39;] = body.body.mass
        body_meta_dict[&#39;radius&#39;] = body.radius
        body_meta_dict[&#39;color&#39;] = body.color

    bodies.reverse()
    data = []
    result[&#39;data&#39;] = data
    def report():
        frame = {}
        for body in bodies:
            body_frame = {}
            if focus is None:
                use_position = body.body.position
            else:
                use_position = body.body.position - focus.position
            body_frame[&#39;position&#39;] = tuple(use_position)
            body_frame[&#39;velocity&#39;] = tuple(body.body.physics.velocity)
            frame[body.name] = body_frame
        data.append(frame)
    report()
    for i in range(step_count):
        for body in bodies:
            body.body.step(step_distance)
        report()

    return result


def system_from_capture(capture_data: SimulationResult,
                        container: Optional[GravityContainer] = None, *,
                        selected_frame: int = -1,
                        create_casters: bool = True,
                        create_acceptors: bool = True) -&gt; Dict[str, BodyWithMetadata]:
    if container is None:
        container = GravityContainer()
    result = {}

    metadata = capture_data[&#39;meta&#39;]
    frame = capture_data[&#39;data&#39;][selected_frame]
    for (name, body_meta) in metadata.items():
        body_frame = frame[name]
        base_body = Body(container, Vector2(*body_frame[&#39;position&#39;]), body_meta[&#39;mass&#39;], create_casters, create_acceptors)
        result[name] = BodyWithMetadata(base_body, name, body_meta[&#39;radius&#39;], body_meta[&#39;color&#39;])
    
    return result</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="pygravity.twod.util.capture_simulation"><code class="name flex">
<span>def <span class="ident">capture_simulation</span></span>(<span>bodies: List[PotentialBody], focus: Optional[PotentialBody] = None, step_distance=36800, step_count=5000) ‑> pygravity.twod.util.SimulationResult</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def capture_simulation(
        bodies: List[PotentialBody],
        focus: Optional[PotentialBody] = None,
        step_distance=36800,
        step_count=5000) -&gt; SimulationResult:
    result = {}
    focus = BodyWithMetadata.strip_metadata(focus)

    bodies = list(BodyWithMetadata.iter_ensure_metadata(bodies))
    metadata = {}
    result[&#39;meta&#39;] = metadata
    for body in bodies:
        body_meta_dict = {}
        result[&#39;meta&#39;][body.name] = body_meta_dict
        body_meta_dict[&#39;mass&#39;] = body.body.mass
        body_meta_dict[&#39;radius&#39;] = body.radius
        body_meta_dict[&#39;color&#39;] = body.color

    bodies.reverse()
    data = []
    result[&#39;data&#39;] = data
    def report():
        frame = {}
        for body in bodies:
            body_frame = {}
            if focus is None:
                use_position = body.body.position
            else:
                use_position = body.body.position - focus.position
            body_frame[&#39;position&#39;] = tuple(use_position)
            body_frame[&#39;velocity&#39;] = tuple(body.body.physics.velocity)
            frame[body.name] = body_frame
        data.append(frame)
    report()
    for i in range(step_count):
        for body in bodies:
            body.body.step(step_distance)
        report()

    return result</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pygravity.twod.util.Body"><code class="flex name class">
<span>class <span class="ident">Body</span></span>
<span>(</span><span>container: GravityContainer, position: Vector2, mass: float, has_caster: bool = True, has_acceptor: bool = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Body(container: GravityContainer, position: Vector2, mass: float, has_caster: bool = True, has_acceptor: bool = True)</p>
<p>High level class representing everything gravity related about a spatial body</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>position</code></strong> :&ensp;<code>Vector2</code></dt>
<dd>The current position of the body</dd>
<dt><strong><code>mass</code></strong> :&ensp;<code>float</code></dt>
<dd>The body's mass</dd>
<dt><strong><code>physics</code></strong> :&ensp;<code>PhysicsManager</code></dt>
<dd>The PhysicsManager responsible for managing the body's velocity</dd>
<dt><strong><code>caster</code></strong> :&ensp;<code>GravityCaster | None</code></dt>
<dd>The body's GravityCaster, or None if the body doesn't pull on other bodies</dd>
<dt><strong><code>acceptor</code></strong> :&ensp;<code>GravityAcceptor | None</code></dt>
<dd>The body's GravityAcceptor, or None if the body doesn't get pulled on by other bodies</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Body:
    &#34;&#34;&#34;Body(container: GravityContainer, position: Vector2, mass: float, has_caster: bool = True, has_acceptor: bool = True)

High level class representing everything gravity related about a spatial body

Attributes
----------
position : Vector2
    The current position of the body
mass : float
    The body&#39;s mass
physics : PhysicsManager
    The PhysicsManager responsible for managing the body&#39;s velocity
caster : GravityCaster | None
    The body&#39;s GravityCaster, or None if the body doesn&#39;t pull on other bodies
acceptor : GravityAcceptor | None
    The body&#39;s GravityAcceptor, or None if the body doesn&#39;t get pulled on by other bodies&#34;&#34;&#34;

    position: Vector2
    mass: float
    physics: PhysicsManager
    caster: Optional[GravityCaster]
    acceptor: Optional[GravityAcceptor]

    def __init__(self,
                 container: GravityContainer,
                 position: Vector2,
                 mass: float,
                 has_caster: bool = True,
                 has_acceptor: bool = True):
        self.position = position
        self.mass = mass
        self.physics = PhysicsManager(position)
        if has_caster:
            self.caster = GravityCaster(position, mass)
            container.add_caster(self.caster)
        else: self.caster = None
        if has_acceptor:
            self.acceptor = GravityAcceptor(position, container, self.physics)
        else: self.acceptor = None

    def step(self, time_passed: float) -&gt; Tuple[Vector2, Vector2]:
        &#34;&#34;&#34;Calculates the change in velocity and movement of this body
Use seconds for time_passed

Returns
-------
Change in velocity (Vector2; None if this body does not have an acceptor)
Movement (Change in position) (Vector2)&#34;&#34;&#34;
        res = None
        if self.acceptor is not None:
            res = self.acceptor.calculate(time_passed)
        return res, self.physics.calculate(time_passed)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pygravity.twod.util.Body.acceptor"><code class="name">var <span class="ident">acceptor</span> : Optional[pygravity.twod.gravity.GravityAcceptor]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.Body.caster"><code class="name">var <span class="ident">caster</span> : Optional[pygravity.twod.gravity.GravityCaster]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.Body.mass"><code class="name">var <span class="ident">mass</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.Body.physics"><code class="name">var <span class="ident">physics</span> : pygravity.twod.physics.PhysicsManager</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.Body.position"><code class="name">var <span class="ident">position</span> : pygravity.twod.vector.Vector2</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pygravity.twod.util.Body.step"><code class="name flex">
<span>def <span class="ident">step</span></span>(<span>self, time_passed: float) ‑> Tuple[pygravity.twod.vector.Vector2, pygravity.twod.vector.Vector2]</span>
</code></dt>
<dd>
<div class="desc"><p>Calculates the change in velocity and movement of this body
Use seconds for time_passed</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Change in velocity (Vector2; None if this body does not have an acceptor)</code></dt>
<dd>&nbsp;</dd>
<dt><code>Movement (Change in position) (Vector2)</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    def step(self, time_passed: float) -&gt; Tuple[Vector2, Vector2]:
        &#34;&#34;&#34;Calculates the change in velocity and movement of this body
Use seconds for time_passed

Returns
-------
Change in velocity (Vector2; None if this body does not have an acceptor)
Movement (Change in position) (Vector2)&#34;&#34;&#34;
        res = None
        if self.acceptor is not None:
            res = self.acceptor.calculate(time_passed)
        return res, self.physics.calculate(time_passed)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata"><code class="flex name class">
<span>class <span class="ident">BodyWithMetadata</span></span>
<span>(</span><span>body: <a title="pygravity.twod.util.Body" href="#pygravity.twod.util.Body">Body</a>, name: str = 'body', radius: float = 0, color: Tuple[float, float, float] = (0, 0, 0))</span>
</code></dt>
<dd>
<div class="desc"><p>BodyWithMetadata(body: Body, name: str = 'body', radius: float = 0, color: Tuple[float, float, float] = (0, 0, 0))</p>
<p>Body wrapper that contains various metadata about the body</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>body</code></strong> :&ensp;<code><a title="pygravity.twod.util.Body" href="#pygravity.twod.util.Body">Body</a></code></dt>
<dd>The actual body</dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The body's name (e.g. Saturn)</dd>
<dt><strong><code>radius</code></strong> :&ensp;<code>float</code></dt>
<dd>The body's radius</dd>
<dt><strong><code>color</code></strong> :&ensp;<code>Tuple[float, float, float]</code></dt>
<dd>The color to use for the body in rendering tasks</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class BodyWithMetadata:
    &#34;&#34;&#34;BodyWithMetadata(body: Body, name: str = &#39;body&#39;, radius: float = 0, color: Tuple[float, float, float] = (0, 0, 0))

Body wrapper that contains various metadata about the body

Attributes
----------
body : Body
    The actual body
name : str
    The body&#39;s name (e.g. Saturn)
radius : float
    The body&#39;s radius
color : Tuple[float, float, float]
    The color to use for the body in rendering tasks&#34;&#34;&#34;

    body: Body
    name: str
    radius: float
    color: Tuple[float, float, float]

    def __init__(self, body: Body, name: str = &#39;body&#39;, radius: float = 0, color: Tuple[float, float, float] = (0, 0, 0)):
        self.body = body
        self.name = name
        self.radius = radius
        self.color = color

    @staticmethod
    def ensure_metadata(body: PotentialBody, *defaults) -&gt; BodyWithMetadata:
        &#34;&#34;&#34;Ensures that type(body) == BodyWithMetadata

Specify additional arguments to set the default metadata if the body is just a plain Body&#34;&#34;&#34;
        if isinstance(body, BodyWithMetadata):
            return body
        return BodyWithMetadata(body, *defaults)

    @staticmethod
    def iter_ensure_metadata(it: Iterable[PotentialBody],
                             name_format: str = &#39;body%03i&#39;,
                             *defaults) -&gt; Generator[BodyWithMetadata]:
        &#34;&#34;&#34;Generator over it that calls BodyWithMetadata.ensure_metadata

name_format is a percent format string that indicates the default name for a body
    This replaces the first argument for defaults&#34;&#34;&#34;
        yield from (
            BodyWithMetadata.ensure_metadata(body, name_format % i, *defaults)
            for (i, body)
            in enumerate(it)
        )

    @staticmethod
    def strip_metadata(body: PotentialBody) -&gt; Body:
        &#34;&#34;&#34;Opposite of BodyWithMetadata.ensure_metadata
Returns a Body regardless of whether body was a BodyWithMetadata or Body&#34;&#34;&#34;
        return BodyWithMetadata.ensure_metadata(body).body

    @staticmethod
    def iter_strip_metadata(it: Iterable[PotentialBody]) -&gt; Generator[Body]:
        &#34;&#34;&#34;Generator over it that calls BodyWithMetadata.strip_metadata&#34;&#34;&#34;
        yield from (
            BodyWithMetadata.strip_metadata(body)
            for body
            in it
        )</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pygravity.twod.util.BodyWithMetadata.body"><code class="name">var <span class="ident">body</span> : <a title="pygravity.twod.util.Body" href="#pygravity.twod.util.Body">Body</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata.color"><code class="name">var <span class="ident">color</span> : Tuple[float, float, float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata.radius"><code class="name">var <span class="ident">radius</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="pygravity.twod.util.BodyWithMetadata.ensure_metadata"><code class="name flex">
<span>def <span class="ident">ensure_metadata</span></span>(<span>body: PotentialBody, *defaults) ‑> <a title="pygravity.twod.util.BodyWithMetadata" href="#pygravity.twod.util.BodyWithMetadata">BodyWithMetadata</a></span>
</code></dt>
<dd>
<div class="desc"><p>Ensures that type(body) == BodyWithMetadata</p>
<p>Specify additional arguments to set the default metadata if the body is just a plain Body</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    @staticmethod
    def ensure_metadata(body: PotentialBody, *defaults) -&gt; BodyWithMetadata:
        &#34;&#34;&#34;Ensures that type(body) == BodyWithMetadata

Specify additional arguments to set the default metadata if the body is just a plain Body&#34;&#34;&#34;
        if isinstance(body, BodyWithMetadata):
            return body
        return BodyWithMetadata(body, *defaults)</code></pre>
</details>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata.iter_ensure_metadata"><code class="name flex">
<span>def <span class="ident">iter_ensure_metadata</span></span>(<span>it: Iterable[PotentialBody], name_format: str = 'body%03i', *defaults) ‑> Generator[<a title="pygravity.twod.util.BodyWithMetadata" href="#pygravity.twod.util.BodyWithMetadata">BodyWithMetadata</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Generator over it that calls BodyWithMetadata.ensure_metadata</p>
<p>name_format is a percent format string that indicates the default name for a body
This replaces the first argument for defaults</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    @staticmethod
    def iter_ensure_metadata(it: Iterable[PotentialBody],
                             name_format: str = &#39;body%03i&#39;,
                             *defaults) -&gt; Generator[BodyWithMetadata]:
        &#34;&#34;&#34;Generator over it that calls BodyWithMetadata.ensure_metadata

name_format is a percent format string that indicates the default name for a body
    This replaces the first argument for defaults&#34;&#34;&#34;
        yield from (
            BodyWithMetadata.ensure_metadata(body, name_format % i, *defaults)
            for (i, body)
            in enumerate(it)
        )</code></pre>
</details>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata.iter_strip_metadata"><code class="name flex">
<span>def <span class="ident">iter_strip_metadata</span></span>(<span>it: Iterable[PotentialBody]) ‑> Generator[<a title="pygravity.twod.util.Body" href="#pygravity.twod.util.Body">Body</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Generator over it that calls BodyWithMetadata.strip_metadata</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def iter_strip_metadata(it: Iterable[PotentialBody]) -&gt; Generator[Body]:
    &#34;&#34;&#34;Generator over it that calls BodyWithMetadata.strip_metadata&#34;&#34;&#34;
    yield from (
        BodyWithMetadata.strip_metadata(body)
        for body
        in it
    )</code></pre>
</details>
</dd>
<dt id="pygravity.twod.util.BodyWithMetadata.strip_metadata"><code class="name flex">
<span>def <span class="ident">strip_metadata</span></span>(<span>body: PotentialBody) ‑> <a title="pygravity.twod.util.Body" href="#pygravity.twod.util.Body">Body</a></span>
</code></dt>
<dd>
<div class="desc"><p>Opposite of BodyWithMetadata.ensure_metadata
Returns a Body regardless of whether body was a BodyWithMetadata or Body</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    @staticmethod
    def strip_metadata(body: PotentialBody) -&gt; Body:
        &#34;&#34;&#34;Opposite of BodyWithMetadata.ensure_metadata
Returns a Body regardless of whether body was a BodyWithMetadata or Body&#34;&#34;&#34;
        return BodyWithMetadata.ensure_metadata(body).body</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="pygravity.twod.util.capture_simulation" href="#pygravity.twod.util.capture_simulation">capture_simulation</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pygravity.twod.util.Body" href="#pygravity.twod.util.Body">Body</a></code></h4>
<ul class="two-column">
<li><code><a title="pygravity.twod.util.Body.acceptor" href="#pygravity.twod.util.Body.acceptor">acceptor</a></code></li>
<li><code><a title="pygravity.twod.util.Body.caster" href="#pygravity.twod.util.Body.caster">caster</a></code></li>
<li><code><a title="pygravity.twod.util.Body.mass" href="#pygravity.twod.util.Body.mass">mass</a></code></li>
<li><code><a title="pygravity.twod.util.Body.physics" href="#pygravity.twod.util.Body.physics">physics</a></code></li>
<li><code><a title="pygravity.twod.util.Body.position" href="#pygravity.twod.util.Body.position">position</a></code></li>
<li><code><a title="pygravity.twod.util.Body.step" href="#pygravity.twod.util.Body.step">step</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pygravity.twod.util.BodyWithMetadata" href="#pygravity.twod.util.BodyWithMetadata">BodyWithMetadata</a></code></h4>
<ul class="">
<li><code><a title="pygravity.twod.util.BodyWithMetadata.body" href="#pygravity.twod.util.BodyWithMetadata.body">body</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.color" href="#pygravity.twod.util.BodyWithMetadata.color">color</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.ensure_metadata" href="#pygravity.twod.util.BodyWithMetadata.ensure_metadata">ensure_metadata</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.iter_ensure_metadata" href="#pygravity.twod.util.BodyWithMetadata.iter_ensure_metadata">iter_ensure_metadata</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.iter_strip_metadata" href="#pygravity.twod.util.BodyWithMetadata.iter_strip_metadata">iter_strip_metadata</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.name" href="#pygravity.twod.util.BodyWithMetadata.name">name</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.radius" href="#pygravity.twod.util.BodyWithMetadata.radius">radius</a></code></li>
<li><code><a title="pygravity.twod.util.BodyWithMetadata.strip_metadata" href="#pygravity.twod.util.BodyWithMetadata.strip_metadata">strip_metadata</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>